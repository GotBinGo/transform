<style>
#cont {
	position:absolute;
	top:0;
	width:500;
	height:500;
	//overflow:hidden;
	border:1px solid;
}
#canvas {
	position:absolute;
	top:0;
    background-color: green;
    transform-style: preserve-3d;
}
#canvas2 {
	position:absolute;
	top:0;
	//visibility:hidden;
	
    background-color: red;
    transform-style: preserve-3d;
}
</style>
<div id="cont">
	<canvas id="canvas" width="500" height="500"></canvas>
	<canvas id="canvas2" width="500" height="500"></canvas>
</div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>
var counter = 0;
var mov = 0;
var rel = 0;
transformMe();
$('#canvas').mousedown(_drawOnCanvas);
function _drawOnCanvas (e)
{
	le = e;
    var c = document.getElementById("canvas");
    var ctx = c.getContext("2d");
    var xpos, ypos;
    
    if (typeof e.offsetX=='undefined')
    {
        xpos = e.originalEvent.layerX;
        ypos = e.originalEvent.layerY;
    }
    else
    {
        xpos = e.offsetX;
        ypos = e.offsetY;
    }
    
    
	ctx.fillRect(xpos-5, ypos-5, 10, 10);
}
$('#cont').mousemove(function(evt) {
posx = evt.pageX;
mov = ((posx/500)-.5);
if(Math.abs(mov) < .32)
	mov = 0;
mov = mov /50;
console.log(mov);
//transformMe();
});
$('#cont').mouseleave(function(evt) {

	mov = 0;

//transformMe();
});
setInterval(function(){ 
transformMe(); 
rel+= mov;
rel *= .95;
_drawOnCanvas(le);
}, 10);
function transformMe()
{
    counter+=rel;
    var angle = (counter * 10) % 360;
    $('#canvas').css('transform','perspective(1000px)   rotate3d(1,0,0,80deg)rotate3d(0,0,1,' + angle + 'deg)');
	$('#canvas2').css('transform','perspective(1000px)  rotate3d(1,0,0,80deg)rotate3d(0,0,1,' + angle + 'deg)translateZ(250px)rotate3d(0,1,0,90deg)');
	//$('#canvas2').css('transform','perspective(1000px)  rotate3d(1,0,0,80deg)rotate3d(0,1,0,' + -angle + 'deg)translateY(-250px)');
};
</script>
